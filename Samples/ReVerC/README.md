# ReVerC Sample

This sample shows how to structure a Q# program using
[ReVerC](https://github.com/msr-quarc/ReVerC) 
to generate reversible circuits from F# code quotations.

## Prerequisites
To run ReVerC within a Q# project the following prerequisites are required:
+ rever.dll
+ fstarlib.dll
+ F# interactive mode (fsi.exe)
+ FSharp Powerpack w/ Compatibility

rever.dll and fstarlib.dll are included in this sample for convenience, but
can otherwise be obtained by compiling ReVerC from 
[source](https://github.com/msr-quarc/ReVerC).

To obtain fsi.exe, simply
[install F#](https://docs.microsoft.com/en-us/dotnet/fsharp/get-started/install-fsharp?tabs=windows).
By default fsi.exe is not added to the windows PATH, nor is the PATH imported by
visual studio, so the standard install location 
(`C:\Program Files (x86)\Microsoft SDKs\F#\10.1\Framework\v4.0\fsi.exe`) 
for fsi.exe version 4.0 has been hardcoded into the build events of this project. 
If fsi.exe is not located here, the above path in the project's pre-build events 
(right click "ReVerC" -> properties -> build events)
must be changed to the correct path for visual studio to correctly locate fsi.exe.

For linux builds, it's generally sufficient to replace the path to fsi.exe with
"fsharpi". Note however that on linux you may need to manually obtain the 
FSharp Powerpack DLLs ([included here](https://github.com/msr-quarc/ReVerC)) and
add them to this directory.

## Running
On building the project,
1. A file "adder.qs" will be generated by running the F# script AdderGen.fsx
   with fsi.exe, which compiles the adder code with ReVerC
2. The driver will import and run code from both Operation.qs and adder.qs

If successful, the program should output
```
1 + 1 = 2
```
indicating that the compiled adder circuit has correctly performed the quantum
addition of 1 + 1.
